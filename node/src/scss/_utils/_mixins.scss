//
// Mixins
// -----------------------------------


//
// Media queries
//



// iphone5 以下
@mixin screen-small() {
  @media (max-width: 320px) {
    @content;
  }
}

// ipad以下
@mixin screen-medium() {
  @media (max-width: 767px) {
    @content;
  }
}

// ipad 以上
@mixin screen-large() {
  @media (min-width: 768px) {
    @content;
  }
}

@mixin screen-xlarge() {
  @media (min-width: $base-breakpoint-xlarge) {
    @content;
  }
}





//
// font-family + weight + letter-space
//
@mixin fontFamily($family: $font-family-notosans, $weight: 400, $space: 0px) {
	// base : notosans
	// other : serif | vol | antro
	// minchoは使わない?
	//
	@if $family == serif {
		font-family: $font-family-notoserif;
		font-weight: $weight;
		letter-spacing: $space;
	} @else if $family == vol {
		font-family: $font-family-vollkorn;
		font-weight: $weight;
		letter-spacing: $space;
	} @else if $family == antro {
		font-family: $font-family-antrovectra;
	} @else if $family == sans {
		font-family: $font-family-notosans;
		font-weight: $weight;
	} @else if $family == mincho {
		font-family: source-han-serif-japanese, serif;
	}
}

@mixin font-mincho() {
	font-family: source-han-serif-japanese, serif;
}



//
// line-height 上寄せ
//
@mixin lineHeight($line-height) {
	line-height: $line-height;
	&::before {
		content: '';
		display: block;
		height: 0;
		width: 0;
		margin-top: calc((1 - #{$line-height}) * 0.5em);
	}
}



// トランジション
@mixin transition($time: .3s) {
	transition: all $time ease;
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
}



//
@mixin adjustBg() {
	background-size: cover;
	background-position: center center;
}




//
// n番目以降
//
@mixin after2() {
	&:nth-of-type(n + 2) {
		@content;
	}
}


//旧
@mixin after-the-n() {
	&:nth-of-type(n + 2) {
		@content;
	}
}


//
// IE11 hack
//
@mixin hack-ie() {
  @media all and (-ms-high-contrast: none){
    @content;
  }
}

@mixin separater($where) {
	border-#{$where}: $base-border;
}




//
// Visually hidden
//
@mixin visually-hidden() {
  position: absolute;
  overflow: hidden;
  padding: 0;
  border: 0;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
}

//
// 矢印
//
@mixin arrow($direction:right, $size:10px, $color:black, $thick:1px){
	@if $direction == top {
		transform: rotate(-135deg);
	}@else if $direction == right {
		transform: rotate(-45deg);
	}@else if $direction == bottom {
		transform: rotate(45deg);
	}@else{
		transform: rotate(135deg);
	}
	display: inline-block;
	width:$size;
	height:$size;
	border-color:$color;
	border-style:solid;
	border-width: 0 $thick $thick 0;
}

//
// aタグを広げる
//※親はpostion:relative必須
@mixin aaa(){
	display: block;
	position: absolute;
	top:0;
	left:0;
	width:100%;
	height:100%;
}

//
// 擬似要素用
//
@mixin pseudo($position:static,$display:block,$height:100%,$width:100%) {
	content: '';
	position: $position;
	display: $display;
	height: $height;
	width:$width;
}

//
// z-index管理
//
@mixin z-index($e) {
	@if $e == anchor {
		z-index:1;
	}@else if $e == more-btn-before {
		z-index:1;
	}@else if $e == more-btn {
		z-index:2;
	}@else{
		z-index:0;
	}
}

//
// 色付き三角
//
@mixin triangle($direction:right, $width:10px, $color:black){
	@if $direction == top {
		border-top: $width solid transparent;
		border-right: $width solid transparent;
		border-bottom: $width solid $color;
		border-left: $width solid transparent;
	}@else if $direction == right {
		border-top: $width solid transparent;
		border-right: $width solid transparent;
		border-bottom: $width solid transparent;
		border-left: $width solid $color;
	}@else if $direction == bottom {
		border-top: $width solid $color;
		border-right: $width solid transparent;
		border-bottom: $width solid transparent;
		border-left: $width solid transparent;
	}@else if $direction == right {
		border-top: $width solid transparent;
		border-right: $width solid $color;
		border-bottom: $width solid transparent;
		border-left: $width solid transparent;
	}

}

//
// もっと見るボタン
//
@mixin more-btn-hide($height:500px, $gradient:90%){
	@include screen-medium(){
		position: relative;
		max-height:$height;
		overflow-y:hidden;

		&:before{
			@include pseudo($position:absolute);
			@include z-index(more-btn-before);
			background:linear-gradient(rgba(255, 255, 255, 0) $gradient,white 100%);
		}

	}
}
